(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{71:function(e,t,a){e.exports=a(83)},83:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(8),c=a.n(i),o=a(15),s=a(31),l=a(10),u=function(e){return{type:"CHANGE_USER_LAT",payload:e}},p=function(e){return{type:"CHANGE_USER_LON",payload:e}},m={lon:"",lat:"",coordinatesErr:""},d=function(e){return{type:"SET_USER_CITY_ERROR",payload:e}},b=function(e){return{type:"SET_USER_COUNTRY_ERROR",payload:e}},h={userCity:"",userCountry:"",errCity:"",errCountry:""},g={cardDescription:""},y=function(e){return{type:"SET_REQUEST_ERROR",payload:e}},f={requestError:""},E=Object(s.b)({userCoordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_USER_LAT":return Object(l.a)(Object(l.a)({},e),{},{lat:t.payload.toString()});case"CHANGE_USER_LON":return Object(l.a)(Object(l.a)({},e),{},{lon:t.payload.toString()});case"SET_USER_COORDINATES_ERROR":return Object(l.a)(Object(l.a)({},e),{},{coordinatesErr:t.payload});default:return e}},userCityAndCountry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_USER_CITY":return Object(l.a)(Object(l.a)({},e),{},{userCity:t.payload});case"CHANGE_USER_COUNRTY":return Object(l.a)(Object(l.a)({},e),{},{userCountry:t.payload});case"SET_USER_CITY_ERROR":return Object(l.a)(Object(l.a)({},e),{},{errCity:t.payload});case"SET_USER_COUNTRY_ERROR":return Object(l.a)(Object(l.a)({},e),{},{errCountry:t.payload});default:return e}},backgroundReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_CARD_DESCRIPTION":return Object(l.a)(Object(l.a)({},e),{},{cardDescription:t.payload});default:return e}},apiRequestReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_REQUEST_ERROR":return Object(l.a)(Object(l.a)({},e),{},{requestError:t.payload});default:return e}}}),O=a(129),C=a(130),j=a(60),v=Object(j.a)({palette:{type:"dark",primary:{light:"#f2f3f4",main:"#dcdfe3",dark:"#c6cbd2"},info:{light:"#d6d6d6",main:"#c2c2c2",dark:"#aeaeae"},error:{light:"#eb143f",main:"#ff0033",dark:"#d8002b"},success:{light:"#41af66",main:"#379356",dark:"#2c7645"},warning:{main:"#ffb03b"},background:{paper:"#242424"}},overrides:{MuiCssBaseline:{"@global":{html:{overflow:"scroll",overflowX:"hidden","& ::-webkit-scrollbar":{width:"0px",background:"transparent"}}}},MuiOutlinedInput:{root:{background:"#242424",borderRadius:"4px",position:"relative"},input:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 1000px #242424 inset"}}},MuiFormHelperText:{root:{fontSize:"14px",position:"absolute",top:"35px"}}}}),w=a(32),R=a.n(w),D=a(42),x=function(){var e=Object(o.c)();return function(){var t=Object(D.a)(R.a.mark((function t(a,r){var n,i;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:8000/?city=".concat(a,"&country=").concat(r));case 3:return n=t.sent,t.next=6,n.json();case 6:(i=t.sent).error||i.error?(e(d(i.error.errCity)),e(b(i.error.errCountry))):(e({type:"CHANGE_USER_CITY",payload:i.data[0].name}),e({type:"CHANGE_USER_COUNRTY",payload:i.data[0].country}),e(u(i.data[0].lat)),e(p(i.data[0].lon)),e(d("")),e(b(""))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e(y(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()},S=a(16),N=a(19),k=function(e,t){var a=Object(r.useState)(e),n=Object(S.a)(a,2),i=n[0],c=n[1];return Object(r.useEffect)((function(){var a=setTimeout((function(){c(e)}),t);return function(){clearTimeout(a)}}),[e,t]),i},_=a(122),T=a(120),I=Object(T.a)((function(e){return{root:{width:"13px",height:"13px"},dots:{display:"block",backgroundColor:"#fff",width:"3px",height:"3px",borderRadius:"50%",background:"transparent",animation:"$animate 0.8s ".concat(e.transitions.easing.easeInOut," infinite  alternate")},firstDot:{animationDelay:"0.4s"},secondDot:{animationDelay:"0.2s"},"@keyframes animate":{from:{opacity:0},to:{opacity:1}}}}));var W=function(e){var t=I(),a=[t.dots,t.firstDot].join(" "),r=[t.dots,t.secondDot].join(" ");return n.a.createElement(_.a,{container:!0,alignItems:"center",justify:"space-between",wrap:"nowrap",className:t.root},n.a.createElement(_.a,{item:!0},n.a.createElement("span",{className:a})),n.a.createElement(_.a,{item:!0},n.a.createElement("span",{className:r})),n.a.createElement(_.a,{item:!0},n.a.createElement("span",{className:t.dots})))},q=a(86),A=a(132),U=a(124),L=a(131),B=a(59),H=a.n(B),M=a(133),G=a(125),z=Object(T.a)((function(e){return{header:Object(N.a)({flexDirection:"column",alignItems:"center"},e.breakpoints.up("sm"),{flexDirection:"row",alignItems:"flex-start",paddingTop:e.spacing(1),paddingLeft:e.spacing(1)}),logoWrapper:{marginBottom:e.spacing(2)},form:Object(N.a)({flexDirection:"column"},e.breakpoints.up("sm"),{alignItems:"center",flexDirection:"row"}),loadingErrorWrapper:{marginRight:e.spacing(1),marginLeft:e.spacing(1)},geoError:{color:e.palette.warning.light},fetchError:{color:e.palette.error.light},successButton:{color:e.palette.success.main},inputWrapper:{padding:e.spacing(1)},checkBoxWrapper:Object(N.a)({padding:e.spacing(1),order:3},e.breakpoints.up("sm"),{order:"unset",paddingTop:0,paddingBottom:0}),submitBtnWrapper:Object(N.a)({order:4,padding:e.spacing(1)},e.breakpoints.up("sm"),{order:"unset"})}}));var P=function(e){var t=e.weatherRequest,a=e.isLoading,i=e.userLat,c=e.userLon,o=e.requestError,s=e.coordinatesErr,l=e.userCity,u=e.userCountry,p=e.errCity,m=e.errCountry,d=e.useUserCootdinatesRequest,b=z(),h=d(),g=Object(r.useState)(""),y=Object(S.a)(g,2),f=y[0],E=y[1],O=Object(r.useState)(""),C=Object(S.a)(O,2),j=C[0],v=C[1],w=Object(r.useState)("current,minutely,hourly"),R=Object(S.a)(w,2),D=R[0],x=R[1],N=Object(r.useState)(!0),T=Object(S.a)(N,2),I=T[0],B=T[1],P=Object(r.useState)(!1),Y=Object(S.a)(P,2),J=Y[0],F=Y[1],K=function(e){"checkboxDaily"===e.target.name?(B(!0),F(!1),x("current,minutely,hourly")):(F(!0),B(!1),x("current,minutely,daily"))},V=k(f,2e3),X=k(j,2e3);return Object(r.useEffect)((function(){V&&X&&h(V,X)}),[V,X,h]),n.a.createElement(_.a,{container:!0,justify:"flex-start",className:b.header},n.a.createElement(_.a,{item:!0,container:!0,xs:6,sm:2,lg:1,direction:"column",alignItems:"center",className:b.logoWrapper},n.a.createElement(H.a,{style:{fontSize:"4.1875rem"}}),n.a.createElement(q.a,{variant:"h4"},"LOGO")),n.a.createElement(_.a,{item:!0},n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(i,c,D)}},n.a.createElement(_.a,{container:!0,alignItems:"center",className:b.form},n.a.createElement(_.a,{item:!0,className:b.inputWrapper},n.a.createElement(L.a,{onChange:function(e){E(e.target.value)},error:!!p,label:p,id:"city",defaultValue:"",size:"small",variant:"outlined",placeholder:"City",helperText:l||""})),n.a.createElement(_.a,{item:!0,className:b.inputWrapper},n.a.createElement(L.a,{onChange:function(e){v(e.target.value)},error:!!m,label:m,id:"country",defaultValue:"",size:"small",variant:"outlined",placeholder:"Country",helperText:u||""})),n.a.createElement(_.a,{item:!0,className:b.submitBtnWrapper},n.a.createElement(U.a,{variant:"contained",type:"submit",className:i&&c?b.successButton:""},"Get weather")),n.a.createElement(_.a,{container:!0,item:!0,className:b.checkBoxWrapper},n.a.createElement(_.a,{item:!0},n.a.createElement(G.a,{control:n.a.createElement(M.a,{checked:I,onChange:K,name:"checkboxDaily",color:"primary"}),label:"Daily"})),n.a.createElement(_.a,{item:!0},n.a.createElement(G.a,{control:n.a.createElement(M.a,{checked:J,onChange:K,name:"checkboxHourly",color:"primary"}),label:"Hourly"})))),n.a.createElement(A.a,{className:b.loadingErrorWrapper},a?n.a.createElement(_.a,{container:!0,alignItems:"baseline",spacing:1},n.a.createElement(_.a,{item:!0},n.a.createElement(q.a,{align:"left"},"Loading")),n.a.createElement(_.a,{item:!0},n.a.createElement(W,null))):null,s||o?n.a.createElement(n.a.Fragment,null,n.a.createElement(q.a,{className:b.geoError,variant:"subtitle2"},s),n.a.createElement(q.a,{className:b.fetchError,variant:"subtitle2"},o)):null))))};var Y=Object(o.b)((function(e){return{userLon:e.userCoordinates.lon,userLat:e.userCoordinates.lat,coordinatesErr:e.userCoordinates.coordinatesErr,userCity:e.userCityAndCountry.userCity,userCountry:e.userCityAndCountry.userCountry,errCity:e.userCityAndCountry.errCity,errCountry:e.userCityAndCountry.errCountry,requestError:e.apiRequestReducer.requestError}}),{})((function(e){return n.a.createElement(P,Object.assign({},e,{coordinatesErr:e.coordinatesErr,userCity:e.userCity,userCountry:e.userCountry,errCity:e.errCity,errCountry:e.errCountry,requestError:e.requestError}))})),J=a(5),F=a.n(J),K=a(126),V=a(127),X=a(51),Q=a.n(X),$=a(50),Z=a.n($),ee=Object(T.a)((function(e){return{contaner:{minWidth:"350px",padding:e.spacing(2)},flexOne:{flex:1},comtainer:{dislpay:"flex",flexDirection:"row",alignItems:"center"},temp:{marginBottom:e.spacing(1)}}}));K.a.propTypes={tempDay:F.a.number,tempNight:F.a.number,humidity:F.a.number,windSpeed:F.a.number,cloud:F.a.number,weatherDesc:F.a.string,day:F.a.string};var te=function(e){var t=e.type,a=e.hours,r=e.tempDay,i=e.tempNight,c=e.humidity,o=e.windSpeed,s=e.weatherDesc,l=e.day,u=e.icon,p=e.handleCardDescr,m=ee();return n.a.createElement(_.a,{item:!0,className:m.contaner,onMouseEnter:p},n.a.createElement(K.a,null,n.a.createElement(V.a,null,n.a.createElement(_.a,{container:!0,direction:"column",alignItems:"center",spacing:1},n.a.createElement(_.a,{container:!0,item:!0,alignItems:"flex-start",justif:"space-between"},n.a.createElement(_.a,{item:!0,className:m.flexOne},n.a.createElement(q.a,{variant:"h5"},l),"hourly"===t?n.a.createElement(q.a,{variant:"subtitle1"},a):null),n.a.createElement("img",{src:u,alt:s})),"daily"===t?n.a.createElement(_.a,{container:!0,item:!0,justify:"space-evenly",alignItems:"center"},n.a.createElement(_.a,{container:!0,item:!0,xs:3,alignItems:"center"},n.a.createElement(Z.a,{className:m.flexOne}),n.a.createElement(q.a,{variant:"h5"},r,"\xb0C")),n.a.createElement(_.a,{container:!0,item:!0,xs:3,alignItems:"center"},n.a.createElement(Q.a,{className:m.flexOne}),n.a.createElement(q.a,{variant:"h5"},i,"\xb0C"))):null,"hourly"===t?n.a.createElement(_.a,{container:!0,item:!0,justify:"space-evenly",alignItems:"center"},n.a.createElement(_.a,{container:!0,item:!0,xs:3,alignItems:"center"},+a.match(/^(\d)+/g).join("")>=8&&+a.match(/^(\d)+/g).join("")<=20?n.a.createElement(Z.a,{className:m.flexOne}):n.a.createElement(Q.a,{className:m.flexOne}),n.a.createElement(q.a,{variant:"h5"},r,"\xb0C"))):null,n.a.createElement(_.a,{container:!0,item:!0,justify:"space-around"},n.a.createElement(_.a,{item:!0},n.a.createElement(q.a,{variant:"subtitle1"},"Humidity ",c,"%")),n.a.createElement(_.a,{item:!0},n.a.createElement(q.a,{variant:"subtitle1"},"Wind speed ",o," km/h")))))))},ae=Object(T.a)((function(e){return{cardList:Object(N.a)({position:"absolute",top:"65%",overflowX:"auto",background:"transparent",flexDirection:"column","&::-webkit-scrollbar ":{height:"10px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{background:"#888"}," &::-webkit-scrollbar-thumb:hover":{background:"#555"}},e.breakpoints.up("sm"),{flexDirection:"row",transform:"translateY(-50%)"})}}));var re=function(e){var t=ae(),a=e.data,r=e.setCardDescription,i=null;return a&&(i=a.weatherData.map((function(e,t){return n.a.createElement(te,{key:t,type:e.type,hours:e.hours,handleCardDescr:function(){return r(e.curentWeather)},tempDay:e.tempDay,tempNight:e.tempNight,humidity:e.humidity,windSpeed:e.windSpeed,weatherDesc:e.curentWeather,day:e.day,icon:e.icon})}))),n.a.createElement(_.a,{item:!0,container:!0,xs:12,alignItems:"center",wrap:"nowrap",className:t.cardList},i)};var ne={setCardDescription:function(e){return{type:"CHANGE_CARD_DESCRIPTION",payload:e}}},ie=Object(o.b)((function(e){return{setCardDescription:e.backgroundReducer.setCardDescription}}),ne)((function(e){return n.a.createElement(re,Object.assign({},e,{setCardDescription:e.setCardDescription}))})),ce=Object(T.a)((function(e){return{wrapper:{zIndex:-1,position:" fixed",top:"-50%",left:"-50%",width:"200%",height:"200%"},bgImage:{position:"absolute",top:0,left:0,right:0,bottom:0,margin:"auto",minWidth:"50%",minHeight:"50%"}}}));function oe(e){var t=ce(),a=e.cardDescription;return n.a.createElement("div",{className:t.wrapper},n.a.createElement("img",{className:t.bgImage,alt:a,src:["https://i.ibb.co/18dttN0/thunderstorm.jpg","https://i.ibb.co/qgWNwKp/drizzle.jpg","https://i.ibb.co/0mgjL6w/rain.jpg","https://i.ibb.co/PYXPySp/snow.jpg","https://i.ibb.co/P6hDWBJ/mist.jpg","https://i.ibb.co/P6hDWBJ/mist.jpg","https://i.ibb.co/P6hDWBJ/mist.jpg","https://i.ibb.co/rMf24q3/dust.jpg","https://i.ibb.co/P6hDWBJ/mist.jpg","https://i.ibb.co/rMf24q3/dust.jpg","https://i.ibb.co/rMf24q3/dust.jpg","https://i.ibb.co/BKpRgMd/squall.jpg","https://i.ibb.co/PtmKL0T/tornado.jpg","https://i.ibb.co/1qgB3Vt/clear.jpg","https://i.ibb.co/pzFpgTv/clouds.jpg"][["Thunderstorm","Drizzle","Rain","Snow","Mist","Smoke","Haze","Dust","Fog","Sand","Ash","Squall","Tornado","Clear","Clouds"].indexOf(a)]||"https://i.ibb.co/BKpRgMd/squall.jpg"}))}var se=Object(o.b)((function(e){return{cardDescription:e.backgroundReducer.cardDescription}}),{})((function(e){return n.a.createElement(oe,Object.assign({},e,{cardDescription:e.cardDescription}))})),le=a(128),ue=Object(T.a)((function(e){return{root:{position:"relative",height:"100vh"}}}));var pe=function(){var e=ue(),t=function(){var e=Object(o.c)();return function(){navigator.geolocation.getCurrentPosition((function(t){e(u(t.coords.latitude)),e(p(t.coords.longitude))}),(function(t){1===t.code&&e({type:"SET_USER_COORDINATES_ERROR",payload:"Turn on geolocation or enter your city and country."})}))}}(),a=function(){var e=Object(o.c)(),t=Object(r.useState)(null),a=Object(S.a)(t,2),n=a[0],i=a[1],c=Object(r.useState)(!1),s=Object(S.a)(c,2),l=s[0],u=s[1],p=function(e){for(var t=[],a=new Date,r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=0;n<e;n++){var i=new Date;i.setDate(a.getDate()+n),t.push(r[i.getDay()])}return t},m=function(e,t,a){var r=e.map((function(e,r){return{type:"daily"===a?"daily":"hourly",hours:"".concat(new Date(1e3*e.dt).getHours(),":00"),curentWeather:e.weather[0].main,tempDay:Math.round(e.feels_like.day||e.feels_like),tempNight:Math.round(e.feels_like.night)||"",windSpeed:Math.round(3.6*e.wind_speed),humidity:e.humidity,rain:e.rain,snow:e.snow,icon:"http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),day:t[r]}}));return 2===t.length&&r.forEach((function(e,a){return e.day=a<=23?t[0]:t[1]})),i({weatherData:r})};return{weatherRequest:function(){var t=Object(D.a)(R.a.mark((function t(a,r,n){var i,c;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.prev=1,t.next=4,fetch(" https:///api.openweathermap.org/data/2.5/onecall?lat=".concat(a,"&lon=").concat(r,"&units=metric&exclude=").concat(n,"&appid=").concat("116d6fc2fb80fd747f9da1487879c958"));case 4:return i=t.sent,t.next=7,i.json();case 7:(c=t.sent).daily?m(c.daily,p(8),"daily"):c.hourly&&m(c.hourly,p(2),"hourly"),e(y("")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),e(y("Something went wrong, reload page."));case 15:u(!1);case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,a,r){return t.apply(this,arguments)}}(),isLoading:l,weatherData:n}}(),i=a.isLoading,c=a.weatherData,s=a.weatherRequest;return Object(r.useEffect)((function(){t()})),console.log("render"),n.a.createElement(le.a,{maxWidth:"xl",disableGutters:!0,className:e.root},n.a.createElement(Y,{useUserCootdinatesRequest:x,weatherRequest:s,isLoading:i}),n.a.createElement(ie,{data:c}),n.a.createElement(se,null))},me=Object(s.c)(E);c.a.render(n.a.createElement(O.a,{theme:v},n.a.createElement(C.a,null),n.a.createElement(o.a,{store:me},n.a.createElement(pe,null))),document.querySelector("#root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.eb3a1083.chunk.js.map