(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{72:function(e,t,a){e.exports=a(84)},84:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(8),c=a.n(i),o=a(14),s=a(31),l=a(10),u=function(e){return{type:"CHANGE_USER_LAT",payload:e}},p=function(e){return{type:"CHANGE_USER_LON",payload:e}},m={lon:"",lat:"",coordinatesErr:""},d=function(e){return{type:"SET_USER_CITY_ERROR",payload:e}},b=function(e){return{type:"SET_USER_COUNTRY_ERROR",payload:e}},g={userCity:"",userCountry:"",errCity:"",errCountry:""},h={cardDescription:""},y=function(e){return{type:"SET_REQUEST_ERROR",payload:e}},f={requestError:""},E=Object(s.b)({userCoordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_USER_LAT":return Object(l.a)(Object(l.a)({},e),{},{lat:t.payload.toString()});case"CHANGE_USER_LON":return Object(l.a)(Object(l.a)({},e),{},{lon:t.payload.toString()});case"SET_USER_COORDINATES_ERROR":return Object(l.a)(Object(l.a)({},e),{},{coordinatesErr:t.payload});default:return e}},userCityAndCountry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_USER_CITY":return Object(l.a)(Object(l.a)({},e),{},{userCity:t.payload});case"CHANGE_USER_COUNRTY":return Object(l.a)(Object(l.a)({},e),{},{userCountry:t.payload});case"SET_USER_CITY_ERROR":return Object(l.a)(Object(l.a)({},e),{},{errCity:t.payload});case"SET_USER_COUNTRY_ERROR":return Object(l.a)(Object(l.a)({},e),{},{errCountry:t.payload});default:return e}},backgroundReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_CARD_DESCRIPTION":return Object(l.a)(Object(l.a)({},e),{},{cardDescription:t.payload});default:return e}},apiRequestReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_REQUEST_ERROR":return Object(l.a)(Object(l.a)({},e),{},{requestError:t.payload});default:return e}}}),O=a(129),j=a(130),C=a(61),v=Object(C.a)({breakpoints:{values:{sm:576,md:768,lg:992,xl:1200}},palette:{type:"dark",primary:{light:"#f2f3f4",main:"#dcdfe3",dark:"#c6cbd2"},info:{light:"#d6d6d6",main:"#c2c2c2",dark:"#aeaeae"},error:{light:"#eb143f",main:"#ff0033",dark:"#d8002b"},success:{light:"#41af66",main:"#379356",dark:"#2c7645"},warning:{main:"#ffb03b"},background:{paper:"#242424"}},overrides:{MuiCssBaseline:{"@global":{html:{overflow:"scroll",overflowX:"hidden","& ::-webkit-scrollbar":{width:"0px",background:"transparent"}}}},MuiOutlinedInput:{root:{background:"#242424",borderRadius:"4px"},input:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 1000px #242424 inset"}}},MuiFormHelperText:{root:{fontSize:"14px"}}}}),w=a(32),R=a.n(w),x=a(42),D=a(16),k=function(e,t){var a=Object(r.useState)(e),n=Object(D.a)(a,2),i=n[0],c=n[1];return Object(r.useEffect)((function(){var a=setTimeout((function(){c(e)}),t);return function(){clearTimeout(a)}}),[e,t]),i},S=a(132),N=a(120),_=Object(N.a)((function(e){return{wrapper:{marginLeft:"10px",marginTop:"5px",display:"inline-flex"},dots:{display:"block",margin:"0 1px",backgroundColor:e.palette.background.paper,width:"4px",height:"4px",borderRadius:"50%",background:"transparent",animation:"$animate 0.8s ".concat(e.transitions.easing.easeInOut," infinite  alternate")},firstDot:{animationDelay:"0.4s"},secondDot:{animationDelay:"0.2s"},"@keyframes animate":{from:{opacity:0},to:{opacity:1}}}}));var T=function(e){var t=_(),a=[t.dots,t.firstDot].join(" "),r=[t.dots,t.secondDot].join(" ");return n.a.createElement(S.a,{className:t.wrapper},n.a.createElement("span",{className:a}),n.a.createElement("span",{className:r}),n.a.createElement("span",{className:t.dots}))},I=a(87),W=a(123),q=a(124),A=a(131),L=a(60),U=a.n(L),B=a(133),H=a(125),M=a(19),G=Object(N.a)((function(e){return{header:Object(M.a)({flexDirection:"column",alignItems:"center",background:"rgba(36, 36, 36, 0.7)",paddingBottom:e.spacing(1)},e.breakpoints.up("sm"),{flexDirection:"row",alignItems:"flex-start",paddingTop:e.spacing(1),paddingLeft:e.spacing(1)}),logoWrapper:{marginBottom:e.spacing(2)},form:Object(M.a)({flexDirection:"column"},e.breakpoints.up("sm"),{alignItems:"center",flexDirection:"row"}),loadingErrorWrapper:{marginRight:e.spacing(1),marginLeft:e.spacing(1)},geoError:{color:e.palette.warning.light},fetchError:{color:e.palette.error.light},inputWrapper:{padding:e.spacing(1)},checkBoxWrapper:Object(M.a)({padding:e.spacing(1),order:3},e.breakpoints.up("sm"),{order:"unset",paddingTop:0,paddingBottom:0}),submitBtnWrapper:Object(M.a)({order:4,padding:e.spacing(1)},e.breakpoints.up("sm"),{order:"unset"}),submitBtn:{background:e.palette.primary.dark}}}));var z=function(e){var t=e.weatherRequest,a=e.isLoading,i=e.userLat,c=e.userLon,s=e.requestError,l=e.coordinatesErr,m=e.userCity,g=e.userCountry,h=e.errCity,f=e.errCountry,E=G(),O=function(){var e=Object(o.c)();return function(){var t=Object(x.a)(R.a.mark((function t(a,r){var n,i;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:8000/?city=".concat(a,"&country=").concat(r));case 3:return n=t.sent,t.next=6,n.json();case 6:(i=t.sent).error||i.error?(e(d(i.error.errCity)),e(b(i.error.errCountry))):(e({type:"CHANGE_USER_CITY",payload:i.data[0].name}),e({type:"CHANGE_USER_COUNRTY",payload:i.data[0].country}),e(u(i.data[0].lat)),e(p(i.data[0].lon)),e(d("")),e(b(""))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e(y(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()}(),j=Object(r.useState)(""),C=Object(D.a)(j,2),v=C[0],w=C[1],N=Object(r.useState)(""),_=Object(D.a)(N,2),L=_[0],M=_[1],z=Object(r.useState)("current,minutely,hourly"),P=Object(D.a)(z,2),Y=P[0],F=P[1],J=Object(r.useState)(!0),K=Object(D.a)(J,2),V=K[0],X=K[1],Q=Object(r.useState)(!1),$=Object(D.a)(Q,2),Z=$[0],ee=$[1],te=function(e){"checkboxDaily"===e.target.name?(X(!0),ee(!1),F("current,minutely,hourly")):(ee(!0),X(!1),F("current,minutely,daily"))},ae=k(v,2e3),re=k(L,2e3);Object(r.useEffect)((function(){ae&&re&&O(ae,re)}),[ae,re,O]);var ne=a?n.a.createElement(n.a.Fragment,null,n.a.createElement(I.a,null,"Loading")," ",n.a.createElement(T,null)):n.a.createElement(I.a,null,"Get weather");return n.a.createElement(W.a,{container:!0,justify:"flex-start",className:E.header},n.a.createElement(W.a,{item:!0,container:!0,xs:6,sm:2,xl:1,direction:"column",alignItems:"center",className:E.logoWrapper},n.a.createElement(U.a,{style:{fontSize:"4.1875rem"}}),n.a.createElement(I.a,{variant:"h4"},"LOGO")),n.a.createElement(W.a,{item:!0,sm:10},n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(i,c,Y)}},n.a.createElement(W.a,{container:!0,alignItems:"center",className:E.form},n.a.createElement(W.a,{item:!0,sm:4,md:"auto",className:E.inputWrapper},n.a.createElement(A.a,{onChange:function(e){w(e.target.value)},error:!!h,label:h,id:"city",defaultValue:"",size:"small",variant:"outlined",placeholder:"City",helperText:m||""})),n.a.createElement(W.a,{item:!0,sm:4,md:"auto",className:E.inputWrapper},n.a.createElement(A.a,{onChange:function(e){M(e.target.value)},error:!!f,label:f,id:"country",defaultValue:"",size:"small",variant:"outlined",placeholder:"Country",helperText:g||""})),n.a.createElement(W.a,{item:!0,className:E.submitBtnWrapper},n.a.createElement(q.a,{variant:"contained",type:"submit",className:E.submitBtn},ne)),n.a.createElement(W.a,{container:!0,item:!0,xs:12,sm:"auto",className:E.checkBoxWrapper},n.a.createElement(W.a,{item:!0,xs:6,sm:"auto"},n.a.createElement(H.a,{control:n.a.createElement(B.a,{checked:V,onChange:te,name:"checkboxDaily",color:"primary"}),label:"Daily"})),n.a.createElement(W.a,{item:!0,xs:6,sm:"auto"},n.a.createElement(H.a,{control:n.a.createElement(B.a,{checked:Z,onChange:te,name:"checkboxHourly",color:"primary"}),label:"Hourly"})))),n.a.createElement(S.a,{className:E.loadingErrorWrapper},l||s?n.a.createElement(n.a.Fragment,null,n.a.createElement(I.a,{className:E.geoError,variant:"subtitle2"},l),n.a.createElement(I.a,{className:E.fetchError,variant:"subtitle2"},s)):null))))};var P=Object(o.b)((function(e){return{userLon:e.userCoordinates.lon,userLat:e.userCoordinates.lat,coordinatesErr:e.userCoordinates.coordinatesErr,userCity:e.userCityAndCountry.userCity,userCountry:e.userCityAndCountry.userCountry,errCity:e.userCityAndCountry.errCity,errCountry:e.userCityAndCountry.errCountry,requestError:e.apiRequestReducer.requestError}}),{})((function(e){return n.a.createElement(z,Object.assign({},e,{coordinatesErr:e.coordinatesErr,userCity:e.userCity,userCountry:e.userCountry,errCity:e.errCity,errCountry:e.errCountry,requestError:e.requestError}))})),Y=a(5),F=a.n(Y),J=a(126),K=a(127),V=a(50),X=a.n(V),Q=a(49),$=a.n(Q),Z=Object(N.a)((function(e){return{container:{minWidth:"350px",padding:e.spacing(2)},flexOne:{flex:1},comtainer:{dislpay:"flex",flexDirection:"row",alignItems:"center"},temp:{marginBottom:e.spacing(1)}}}));J.a.propTypes={tempDay:F.a.number,tempNight:F.a.number,humidity:F.a.number,windSpeed:F.a.number,cloud:F.a.number,weatherDesc:F.a.string,day:F.a.string};var ee=function(e){var t=e.type,a=e.hours,r=e.tempDay,i=e.tempNight,c=e.humidity,o=e.windSpeed,s=e.weatherDesc,l=e.day,u=e.icon,p=e.handleCardDescr,m=Z();return n.a.createElement(W.a,{item:!0,className:m.container,onMouseEnter:p},n.a.createElement(J.a,null,n.a.createElement(K.a,null,n.a.createElement(W.a,{container:!0,direction:"column",alignItems:"center",spacing:1},n.a.createElement(W.a,{container:!0,item:!0,alignItems:"flex-start",justif:"space-between"},n.a.createElement(W.a,{item:!0,className:m.flexOne},n.a.createElement(I.a,{variant:"h5"},l),"hourly"===t?n.a.createElement(I.a,{variant:"subtitle1"},a):null),n.a.createElement("img",{src:u,alt:s})),"daily"===t?n.a.createElement(W.a,{container:!0,item:!0,justify:"space-evenly",alignItems:"center"},n.a.createElement(W.a,{container:!0,item:!0,xs:3,alignItems:"center"},n.a.createElement($.a,{className:m.flexOne}),n.a.createElement(I.a,{variant:"h5"},r,"\xb0C")),n.a.createElement(W.a,{container:!0,item:!0,xs:3,alignItems:"center"},n.a.createElement(X.a,{className:m.flexOne}),n.a.createElement(I.a,{variant:"h5"},i,"\xb0C"))):null,"hourly"===t?n.a.createElement(W.a,{container:!0,item:!0,justify:"space-evenly",alignItems:"center"},n.a.createElement(W.a,{container:!0,item:!0,xs:3,alignItems:"center"},+a.match(/^(\d)+/g).join("")>=8&&+a.match(/^(\d)+/g).join("")<=20?n.a.createElement($.a,{className:m.flexOne}):n.a.createElement(X.a,{className:m.flexOne}),n.a.createElement(I.a,{variant:"h5"},r,"\xb0C"))):null,n.a.createElement(W.a,{container:!0,item:!0,justify:"space-around"},n.a.createElement(W.a,{item:!0},n.a.createElement(I.a,{variant:"subtitle1"},"Humidity ",c,"%")),n.a.createElement(W.a,{item:!0},n.a.createElement(I.a,{variant:"subtitle1"},"Wind speed ",o," km/h")))))))},te=Object(N.a)((function(e){return{cardList:Object(M.a)({position:"absolute",top:"65%",overflowX:"auto",background:"transparent",flexDirection:"column","&::-webkit-scrollbar ":{height:"10px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{background:"#888"}," &::-webkit-scrollbar-thumb:hover":{background:"#555"}},e.breakpoints.up("sm"),{flexDirection:"row",transform:"translateY(-50%)"})}}));var ae=function(e){var t=te(),a=e.data,r=e.setCardDescription,i=null;return a&&(i=a.weatherData.map((function(e,t){return n.a.createElement(ee,{key:t,type:e.type,hours:e.hours,handleCardDescr:function(){return r(e.curentWeather)},tempDay:e.tempDay,tempNight:e.tempNight,humidity:e.humidity,windSpeed:e.windSpeed,weatherDesc:e.curentWeather,day:e.day,icon:e.icon})}))),n.a.createElement(W.a,{item:!0,container:!0,xs:12,alignItems:"center",wrap:"nowrap",className:t.cardList},i)};var re={setCardDescription:function(e){return{type:"CHANGE_CARD_DESCRIPTION",payload:e}}},ne=Object(o.b)((function(e){return{setCardDescription:e.backgroundReducer.setCardDescription}}),re)((function(e){return n.a.createElement(ae,Object.assign({},e,{setCardDescription:e.setCardDescription}))})),ie=Object(N.a)((function(e){return{wrapper:{zIndex:-1,position:" fixed",top:"-50%",left:"-50%",width:"200%",height:"200%"},bgImage:{position:"absolute",top:0,left:0,right:0,bottom:0,margin:"auto",minWidth:"50%",minHeight:"50%"}}}));function ce(e){var t=ie(),a=e.cardDescription;return n.a.createElement(S.a,{className:t.wrapper},n.a.createElement("img",{className:t.bgImage,alt:a,src:["https://i.ibb.co/18dttN0/thunderstorm.jpg","https://i.ibb.co/qgWNwKp/drizzle.jpg","https://i.ibb.co/0mgjL6w/rain.jpg","https://i.ibb.co/PYXPySp/snow.jpg","https://i.ibb.co/P6hDWBJ/mist.jpg","https://i.ibb.co/P6hDWBJ/mist.jpg","https://i.ibb.co/P6hDWBJ/mist.jpg","https://i.ibb.co/rMf24q3/dust.jpg","https://i.ibb.co/P6hDWBJ/mist.jpg","https://i.ibb.co/rMf24q3/dust.jpg","https://i.ibb.co/rMf24q3/dust.jpg","https://i.ibb.co/BKpRgMd/squall.jpg","https://i.ibb.co/PtmKL0T/tornado.jpg","https://i.ibb.co/1qgB3Vt/clear.jpg","https://i.ibb.co/pzFpgTv/clouds.jpg"][["Thunderstorm","Drizzle","Rain","Snow","Mist","Smoke","Haze","Dust","Fog","Sand","Ash","Squall","Tornado","Clear","Clouds"].indexOf(a)]||"https://i.ibb.co/BKpRgMd/squall.jpg"}))}var oe=Object(o.b)((function(e){return{cardDescription:e.backgroundReducer.cardDescription}}),{})((function(e){return n.a.createElement(ce,Object.assign({},e,{cardDescription:e.cardDescription}))})),se=a(128),le=Object(N.a)((function(e){return{root:{position:"relative",height:"100vh"}}}));var ue=function(){var e=le(),t=function(){var e=Object(o.c)();return function(){navigator.geolocation.getCurrentPosition((function(t){e(u(t.coords.latitude)),e(p(t.coords.longitude))}),(function(t){1===t.code&&e({type:"SET_USER_COORDINATES_ERROR",payload:"Turn on geolocation or enter your city and country."})}))}}(),a=function(){var e=Object(o.c)(),t=Object(r.useState)(null),a=Object(D.a)(t,2),n=a[0],i=a[1],c=Object(r.useState)(!1),s=Object(D.a)(c,2),l=s[0],u=s[1],p=function(e){for(var t=[],a=new Date,r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=0;n<e;n++){var i=new Date;i.setDate(a.getDate()+n),t.push(r[i.getDay()])}return t},m=function(e,t,a){var r=e.map((function(e,r){return{type:"daily"===a?"daily":"hourly",hours:"".concat(new Date(1e3*e.dt).getHours(),":00"),curentWeather:e.weather[0].main,tempDay:Math.round(e.feels_like.day||e.feels_like),tempNight:Math.round(e.feels_like.night)||"",windSpeed:Math.round(3.6*e.wind_speed),humidity:e.humidity,rain:e.rain,snow:e.snow,icon:"http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),day:t[r]}}));return 2===t.length&&r.forEach((function(e,a){return e.day=a<=23?t[0]:t[1]})),i({weatherData:r})};return{weatherRequest:function(){var t=Object(x.a)(R.a.mark((function t(a,r,n){var i,c;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.prev=1,t.next=4,fetch(" https:///api.openweathermap.org/data/2.5/onecall?lat=".concat(a,"&lon=").concat(r,"&units=metric&exclude=").concat(n,"&appid=").concat("116d6fc2fb80fd747f9da1487879c958"));case 4:return i=t.sent,t.next=7,i.json();case 7:(c=t.sent).daily?m(c.daily,p(8),"daily"):c.hourly&&m(c.hourly,p(2),"hourly"),e(y("")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),e(y("Something went wrong, reload page."));case 15:u(!1);case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,a,r){return t.apply(this,arguments)}}(),isLoading:l,weatherData:n}}(),i=a.isLoading,c=a.weatherData,s=a.weatherRequest;return Object(r.useEffect)((function(){t()}),[t]),console.log("render"),n.a.createElement(se.a,{maxWidth:"xs",disableGutters:!0,className:e.root},n.a.createElement(P,{weatherRequest:s,isLoading:i}),n.a.createElement(ne,{data:c}),n.a.createElement(oe,null))},pe=Object(s.c)(E);c.a.render(n.a.createElement(O.a,{theme:v},n.a.createElement(j.a,null),n.a.createElement(o.a,{store:pe},n.a.createElement(ue,null))),document.querySelector("#root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.951d65c5.chunk.js.map