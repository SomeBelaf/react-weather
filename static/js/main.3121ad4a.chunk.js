(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{65:function(e,t,a){e.exports=a(77)},77:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(8),o=a.n(i),c=a(13),s=a(27),u=a(10),l=function(e){return{type:"CHANGE_USER_LAT",payload:e}},d=function(e){return{type:"CHANGE_USER_LON",payload:e}},p={lon:"",lat:"",coordinatesErr:""},m=function(e){return{type:"SET_USER_CITY_ERROR",payload:e}},b=function(e){return{type:"SET_USER_COUNTRY_ERROR",payload:e}},f=function(e){return{type:"SET_REQUEST_ERROR",payload:e}},g={userCity:"",userCountry:"",errCity:"",errCountry:"",requestError:""},h={cardDescription:""},E=Object(s.b)({userCoordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_USER_LAT":return Object(u.a)(Object(u.a)({},e),{},{lat:t.payload.toString()});case"CHANGE_USER_LON":return Object(u.a)(Object(u.a)({},e),{},{lon:t.payload.toString()});case"SET_USER_COORDINATES_ERROR":return Object(u.a)(Object(u.a)({},e),{},{coordinatesErr:t.payload});default:return e}},userCityAndCountry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_USER_CITY":return Object(u.a)(Object(u.a)({},e),{},{userCity:t.payload});case"CHANGE_USER_COUNRTY":return Object(u.a)(Object(u.a)({},e),{},{userCountry:t.payload});case"SET_USER_CITY_ERROR":return Object(u.a)(Object(u.a)({},e),{},{errCity:t.payload});case"SET_USER_COUNTRY_ERROR":return Object(u.a)(Object(u.a)({},e),{},{errCountry:t.payload});case"SET_REQUEST_ERROR":return Object(u.a)(Object(u.a)({},e),{},{requestError:t.payload});default:return e}},backgroundReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_CARD_DESCRIPTION":return Object(u.a)(Object(u.a)({},e),{},{cardDescription:t.payload});default:return e}}}),y=a(119),C=a(120),O=a(55),j=Object(O.a)({palette:{type:"dark",primary:{light:"#f2f3f4",main:"#dcdfe3",dark:"#c6cbd2"},info:{light:"#d6d6d6",main:"#c2c2c2",dark:"#aeaeae"},error:{light:"#eb143f",main:"#ff0033",dark:"#d8002b"},success:{light:"#41af66",main:"#379356",dark:"#2c7645"},warning:{main:"#ffb03b"},background:{paper:"#242424"}},overrides:{MuiCssBaseline:{"@global":{html:{overflow:"scroll",overflowX:"hidden","& ::-webkit-scrollbar":{width:"0px",background:"transparent"}}}},MuiOutlinedInput:{root:{background:"#242424",borderRadius:"4px",position:"relative"},input:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 1000px #242424 inset"}}},MuiFormHelperText:{root:{fontSize:"14px",position:"absolute",top:"35px"}}}}),w=a(29),v=a.n(w),R=a(39),D=function(){var e=Object(c.c)();return function(){var t=Object(R.a)(v.a.mark((function t(a,r){var n,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:8000/?city=".concat(a,"&country=").concat(r));case 3:return n=t.sent,t.next=6,n.json();case 6:(i=t.sent).error||i.error?(e(m(i.error.errCity)),e(b(i.error.errCountry))):(e({type:"CHANGE_USER_CITY",payload:i.data[0].name}),e({type:"CHANGE_USER_COUNRTY",payload:i.data[0].country}),e(l(i.data[0].lat)),e(d(i.data[0].lon)),e(m("")),e(b(""))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e(f(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()},S=a(20),x=a(24),N=function(e,t){var a=Object(r.useState)(e),n=Object(S.a)(a,2),i=n[0],o=n[1];return Object(r.useEffect)((function(){var a=setTimeout((function(){o(e)}),t);return function(){clearTimeout(a)}}),[e,t]),i},_=a(113),k=a(111),T=Object(k.a)((function(e){return{root:{width:"13px",height:"13px"},dots:{display:"block",backgroundColor:"#fff",width:"3px",height:"3px",borderRadius:"50%",background:"transparent",animation:"$animate 0.8s ".concat(e.transitions.easing.easeInOut," infinite  alternate")},firstDot:{animationDelay:"0.4s"},secondDot:{animationDelay:"0.2s"},"@keyframes animate":{from:{opacity:0},to:{opacity:1}}}}));var I=function(e){var t=T(),a=[t.dots,t.firstDot].join(" "),r=[t.dots,t.secondDot].join(" ");return n.a.createElement(_.a,{container:!0,alignItems:"center",justify:"space-between",wrap:"nowrap",className:t.root},n.a.createElement(_.a,{item:!0},n.a.createElement("span",{className:a})),n.a.createElement(_.a,{item:!0},n.a.createElement("span",{className:r})),n.a.createElement(_.a,{item:!0},n.a.createElement("span",{className:t.dots})))},A=a(115),q=a(122),U=a(123),L=a(121),W=a(52),M=a.n(W),B=Object(k.a)((function(e){return{header:Object(x.a)({flexDirection:"column",alignItems:"center"},e.breakpoints.up("sm"),{flexDirection:"row",alignItems:"flex-start",paddingTop:e.spacing(2),paddingLeft:e.spacing(2)}),logoWrapper:{marginBottom:e.spacing(2)},form:Object(x.a)({flexDirection:"column"},e.breakpoints.up("sm"),{alignItems:"center",flexDirection:"row"}),loadingErrorWrapper:{marginTop:e.spacing(2)},geoError:{color:e.palette.warning.light},fetchError:{color:e.palette.error.light},successButton:{color:e.palette.success.main}}}));var G=function(e){var t=e.weatherRequest,a=e.isLoading,i=e.userLat,o=e.userLon,c=e.requestError,s=e.coordinatesErr,u=e.userCity,l=e.userCountry,d=e.errCity,p=e.errCountry,m=e.useUserCootdinatesRequest,b=B(),f=m(),g=Object(r.useState)(""),h=Object(S.a)(g,2),E=h[0],y=h[1],C=Object(r.useState)(""),O=Object(S.a)(C,2),j=O[0],w=O[1],v=N(E,2e3),R=N(j,2e3);return Object(r.useEffect)((function(){v&&R&&f(v,R)}),[v,R,f]),n.a.createElement(_.a,{container:!0,justify:"flex-start",className:b.header},n.a.createElement(_.a,{item:!0,container:!0,xs:6,sm:2,lg:1,direction:"column",alignItems:"center",className:b.logoWrapper},n.a.createElement(M.a,{style:{fontSize:"4.1875rem"}}),n.a.createElement(A.a,{variant:"h4"},"LOGO")),n.a.createElement(_.a,{item:!0},n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(i,o)}},n.a.createElement(_.a,{container:!0,alignItems:"center",className:b.form,spacing:3},n.a.createElement(_.a,{item:!0},n.a.createElement(L.a,{onChange:function(e){y(e.target.value)},error:!!d,label:d,id:"city",defaultValue:"",size:"small",variant:"outlined",placeholder:"City",helperText:u||""})),n.a.createElement(_.a,{item:!0},n.a.createElement(L.a,{onChange:function(e){w(e.target.value)},error:!!p,label:p,id:"country",defaultValue:"",size:"small",variant:"outlined",placeholder:"Country",helperText:l||""})),n.a.createElement(_.a,{item:!0},n.a.createElement(U.a,{variant:"contained",type:"submit",className:i&&o?b.successButton:""},"Get weather"))),n.a.createElement(q.a,{className:b.loadingErrorWrapper},a?n.a.createElement(_.a,{container:!0,alignItems:"baseline",spacing:1},n.a.createElement(_.a,{item:!0},n.a.createElement(A.a,{align:"left"},"Loading")),n.a.createElement(_.a,{item:!0},n.a.createElement(I,null))):null,s||c?n.a.createElement(n.a.Fragment,null,n.a.createElement(A.a,{className:b.geoError,variant:"subtitle2"},s),n.a.createElement(A.a,{className:b.fetchError,variant:"subtitle2"},c)):null))))};var H=Object(c.b)((function(e){return{userLon:e.userCoordinates.lon,userLat:e.userCoordinates.lat,coordinatesErr:e.userCoordinates.coordinatesErr,userCity:e.userCityAndCountry.userCity,userCountry:e.userCityAndCountry.userCountry,errCity:e.userCityAndCountry.errCity,errCountry:e.userCityAndCountry.errCountry,requestError:e.userCityAndCountry.requestError}}),{})((function(e){return n.a.createElement(G,Object.assign({},e,{coordinatesErr:e.coordinatesErr,userCity:e.userCity,userCountry:e.userCountry,errCity:e.errCity,errCountry:e.errCountry,requestError:e.requestError}))})),z=a(4),P=a.n(z),Y=a(116),J=a(117),F=a(54),K=a.n(F),V=a(53),X=a.n(V),Q=Object(k.a)((function(e){return{root:{minWidth:"350px",padding:e.spacing(2)},flexOne:{flex:1},temp:{marginBottom:e.spacing(1)}}}));Y.a.propTypes={tempDay:P.a.number,tempNight:P.a.number,humidity:P.a.number,windSpeed:P.a.number,cloud:P.a.number,weatherDesc:P.a.string,day:P.a.string};var $=function(e){var t=e.tempDay,a=e.tempNight,r=e.humidity,i=e.windSpeed,o=(e.cloud,e.weatherDesc),c=e.day,s=e.icon,u=e.handleCardDescr,l=Q();return n.a.createElement(_.a,{item:!0,className:l.root,onMouseEnter:u},n.a.createElement(Y.a,null,n.a.createElement(J.a,null,n.a.createElement(_.a,{container:!0,direction:"column",alignItems:"center",spacing:1},n.a.createElement(_.a,{container:!0,item:!0,alignItems:"flex-start",justif:"space-between"},n.a.createElement(_.a,{item:!0,className:l.flexOne},n.a.createElement(A.a,{variant:"h5"},c)),n.a.createElement("img",{src:s,alt:o})),n.a.createElement(_.a,{container:!0,item:!0,justify:"space-evenly",alignItems:"center"},n.a.createElement(_.a,{container:!0,item:!0,xs:3,alignItems:"center"},n.a.createElement(X.a,{className:l.flexOne}),n.a.createElement(A.a,{variant:"h5"},t,"\xb0C")),n.a.createElement(_.a,{container:!0,item:!0,xs:3,alignItems:"center"},n.a.createElement(K.a,{className:l.flexOne}),n.a.createElement(A.a,{variant:"h5"},a,"\xb0C"))),n.a.createElement(_.a,{container:!0,item:!0,justify:"space-around"},n.a.createElement(_.a,{item:!0},n.a.createElement(A.a,{variant:"subtitle1"},"humidity ",r,"%")),n.a.createElement(_.a,{item:!0},n.a.createElement(A.a,{variant:"subtitle1"},"Wind speed ",i," km/h")))))))},Z=Object(k.a)((function(e){return{cardList:Object(x.a)({position:"absolute",top:"60%",overflowX:"auto",background:"transparent",flexDirection:"column","&::-webkit-scrollbar ":{height:"10px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{background:"#888"}," &::-webkit-scrollbar-thumb:hover":{background:"#555"}},e.breakpoints.up("sm"),{top:"53%",flexDirection:"row",transform:"translateY(-50%)"})}}));var ee=function(e){var t=Z(),a=e.data,r=e.setCardDescription,i=null;return a&&(i=a.weatherData.map((function(e,t){return n.a.createElement($,{key:t,handleCardDescr:function(){return r(e.curentWeather)},tempDay:e.tempDay,tempNight:e.tempNight,humidity:e.humidity,windSpeed:e.windSpeed,cloud:e.cloud,weatherDesc:e.curentWeather,day:e.day,icon:e.icon})}))),n.a.createElement(_.a,{item:!0,container:!0,xs:12,alignItems:"center",wrap:"nowrap",className:t.cardList},i)};var te={setCardDescription:function(e){return{type:"CHANGE_CARD_DESCRIPTION",payload:e}}},ae=Object(c.b)((function(e){return{setCardDescription:e.backgroundReducer.setCardDescription}}),te)((function(e){return n.a.createElement(ee,Object.assign({},e,{setCardDescription:e.setCardDescription}))})),re=Object(k.a)((function(e){return{wrapper:{zIndex:-1,position:" fixed",top:"-50%",left:"-50%",width:"200%",height:"200%"},bgImage:{position:"absolute",top:0,left:0,right:0,bottom:0,margin:"auto",minWidth:"50%",minHeight:"50%"}}}));function ne(e){var t=re(),a=e.cardDescription;return n.a.createElement("div",{className:t.wrapper},n.a.createElement("img",{className:t.bgImage,alt:a,src:["https://i.ibb.co/18dttN0/thunderstorm.jpg","https://i.ibb.co/qgWNwKp/drizzle.jpg","https://i.ibb.co/0mgjL6w/rain.jpg","https://i.ibb.co/PYXPySp/snow.jpg","https://i.ibb.co/P6hDWBJ/mist.jpg","https://i.ibb.co/P6hDWBJ/mist.jpg","https://i.ibb.co/P6hDWBJ/mist.jpg","https://i.ibb.co/rMf24q3/dust.jpg","https://i.ibb.co/P6hDWBJ/mist.jpg","https://i.ibb.co/rMf24q3/dust.jpg","https://i.ibb.co/rMf24q3/dust.jpg","https://i.ibb.co/BKpRgMd/squall.jpg","https://i.ibb.co/PtmKL0T/tornado.jpg","https://i.ibb.co/1qgB3Vt/clear.jpg","https://i.ibb.co/pzFpgTv/clouds.jpg"][["Thunderstorm","Drizzle","Rain","Snow","Mist","Smoke","Haze","Dust","Fog","Sand","Ash","Squall","Tornado","Clear","Clouds"].indexOf(a)]||"https://i.ibb.co/BKpRgMd/squall.jpg"}))}var ie=Object(c.b)((function(e){return{cardDescription:e.backgroundReducer.cardDescription}}),{})((function(e){return n.a.createElement(ne,Object.assign({},e,{cardDescription:e.cardDescription}))})),oe=a(118),ce=Object(k.a)((function(e){return{root:{position:"relative",height:"100vh"}}}));var se=function(){var e=ce(),t=function(){var e=Object(c.c)();return function(){navigator.geolocation.getCurrentPosition((function(t){e(l(t.coords.latitude)),e(d(t.coords.longitude))}),(function(t){1===t.code&&e({type:"SET_USER_COORDINATES_ERROR",payload:"Turn on geolocation or enter your city and country."})}))}}(),a=function(){var e=Object(c.c)(),t=Object(r.useState)(null),a=Object(S.a)(t,2),n=a[0],i=a[1],o=Object(r.useState)(!1),s=Object(S.a)(o,2),u=s[0],l=s[1],d=function(e){for(var t=[],a=new Date,r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=0;n<e;n++){var i=new Date;i.setDate(a.getDate()+n),t.push(r[i.getDay()])}return t},p=function(e,t){var a=e.map((function(e){return{curentWeather:e.weather[0].main,tempDay:Math.round(e.feels_like.day),tempNight:Math.round(e.feels_like.night),windSpeed:Math.round(3.6*e.wind_speed),clouds:e.clouds,humidity:e.humidity,rain:e.rain,snow:e.snow,icon:"http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),day:""}}));return t.map((function(e,t){return a[t].day=e})),i({weatherData:a})};return{weatherRequest:function(){var t=Object(R.a)(v.a.mark((function t(a,r){var n,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.prev=1,t.next=4,fetch(" https:///api.openweathermap.org/data/2.5/onecall?lat=".concat(a,"&lon=").concat(r,"&units=metric&exclude=current,minutely,hourly&appid=").concat("116d6fc2fb80fd747f9da1487879c958"));case 4:return n=t.sent,t.next=7,n.json();case 7:i=t.sent,p(i.daily,d(8)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e(f("Something went wrong, reload page."));case 14:l(!1);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}(),isLoading:u,weatherData:n}}(),i=a.isLoading,o=a.weatherData,s=a.weatherRequest;return Object(r.useEffect)((function(){t()})),console.log("render"),n.a.createElement(oe.a,{maxWidth:"xl",disableGutters:!0,className:e.root},n.a.createElement(H,{useUserCootdinatesRequest:D,weatherRequest:s,isLoading:i}),n.a.createElement(ae,{data:o}),n.a.createElement(ie,null))},ue=Object(s.c)(E);o.a.render(n.a.createElement(y.a,{theme:j},n.a.createElement(C.a,null),n.a.createElement(c.a,{store:ue},n.a.createElement(se,null))),document.querySelector("#root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.3121ad4a.chunk.js.map